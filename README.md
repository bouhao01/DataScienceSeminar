## Data science seminar: Incomplete network embedding II
This project evaluates the effectiveness of three network embedding algorithms SINE, DeepWalk and Doc2Vec when the network presents different type of missing information namely:
- removing random edges
- removing important edges
- removing all edges of random nodes
- removing all edges of important nodes

where importance is defined by centrality measures.
Those algorithms will be used with three real-word data-sets: cora, citysee and dblp.
The evaluation of low-dimensional representations will be done using simple node classification where we train a classifier on a part of the embedded representation and test its performance on the rest of the data.

The implementation is devided into two main parts:
  1. Embed the dataset using SINE, DeepWalk and Doc2Vec after removing a percentage of edges.
  2. Evalute each embedded representation using a multi class logistic regression model.

To run the embedding:

> python generate_embeddings.py cora 5 50

The first argument represent the dataset to perform the embedding on (cora, citeseer or dblp).
After the name of the dataset, it comes a list of percentages of edges to be removed from the network.
After the program ends, it generates the following output in the cache dir of cora (the cache dir of the dataset):

```
2020-07-12-09-03/
    	├── 5
    	│   ├── remove_all_edges_of_important_nodes
    	│   │   ├── d2v
    	│   │   ├── dw
    	│   │   ├── sine
    	│   │   └── missing_edges_dataset.p
    	│   ├── remove_all_edges_of_random_nodes
    	│   │   ├── d2v
    	│   │   ├── dw
    	│   │   ├── sine
    	│   │   └── missing_edges_dataset.p
    	│   ├── remove_iportant_edges_cc
    	│   │   ├── d2v
    	│   │   ├── dw
    	│   │   ├── sine
    	│   │   └── missing_edges_dataset.p
    	│   ├── remove_iportant_edges_nd
    	│   │   ├── d2v
    	│   │   ├── dw
    	│   │   ├── sine
    	│   │   └── missing_edges_dataset.p
    	│   └── remove_random_edges
    	│       ├── d2v
    	│       ├── dw
    	│       ├── sine
    	│       └── missing_edges_dataset.p
    	└── 50
    	    ├── remove_all_edges_of_important_nodes
    	    │   ├── d2v
    	    │   ├── dw
    	    │   ├── sine
    	    │   └── missing_edges_dataset.p
    	    ├── remove_all_edges_of_random_nodes
    	    │   ├── d2v
    	    │   ├── dw
    	    │   ├── sine
    	    │   └── missing_edges_dataset.p
    	    ├── remove_iportant_edges_cc
    	    │   ├── d2v
    	    │   ├── dw
    	    │   ├── sine
    	    │   └── missing_edges_dataset.p
    	    ├── remove_iportant_edges_nd
    	    │   ├── d2v
    	    │   ├── dw
    	    │   ├── sine
    	    │   └── missing_edges_dataset.p
    	    └── remove_random_edges
    	        ├── d2v
    	        ├── dw
    	        ├── sine
    	        └── missing_edges_dataset.p
```
To run the evaluation:
> python evaluate_embeddings "/PATH_TO/2020-07-12-09-03/"

It takes one argument which is the path to the base dir of embeddings.
Example of output display:
```

		###################################################################################
		#  remove_all_edges_of_important_nodes with drop of 5
		###################################################################################

		-----------------------------------------------------------------------------------
		|             |    macro_f1_score    |    precision_score    |      accuracy      |
		-----------------------------------------------------------------------------------
		|  Doc2Vec    |        0.69523       |        0.71424        |       0.72437      |
		-----------------------------------------------------------------------------------
		|  DeepWalk   |        0.78384       |        0.79099        |       0.79243      |
		-----------------------------------------------------------------------------------
		|  SINE       |        0.80959       |        0.81619        |       0.82230      |
		-----------------------------------------------------------------------------------



		###################################################################################
		#  remove_all_edges_of_random_nodes with drop of 5
		###################################################################################

		-----------------------------------------------------------------------------------
		|             |    macro_f1_score    |    precision_score    |      accuracy      |
		-----------------------------------------------------------------------------------
		|  Doc2Vec    |        0.69242       |        0.71557        |       0.72024      |
		-----------------------------------------------------------------------------------
		|  DeepWalk   |        0.78311       |        0.79268        |       0.79195      |
		-----------------------------------------------------------------------------------
		|  SINE       |        0.81319       |        0.81850        |       0.82533      |
		-----------------------------------------------------------------------------------



		###################################################################################
		#  remove_iportant_edges_cc with drop of 5
		###################################################################################

		-----------------------------------------------------------------------------------
		|             |    macro_f1_score    |    precision_score    |      accuracy      |
		-----------------------------------------------------------------------------------
		|  Doc2Vec    |        0.69457       |        0.71572        |       0.72334      |
		-----------------------------------------------------------------------------------
		|  DeepWalk   |        0.79415       |        0.80326        |       0.80318      |
		-----------------------------------------------------------------------------------
		|  SINE       |        0.81498       |        0.82057        |       0.82345      |
		-----------------------------------------------------------------------------------



		###################################################################################
		#  remove_iportant_edges_nd with drop of 5
		###################################################################################

		-----------------------------------------------------------------------------------
		|             |    macro_f1_score    |    precision_score    |      accuracy      |
		-----------------------------------------------------------------------------------
		|  Doc2Vec    |        0.69845       |        0.71697        |       0.72722      |
		-----------------------------------------------------------------------------------
		|  DeepWalk   |        0.80295       |        0.80876        |       0.81329      |
		-----------------------------------------------------------------------------------
		|  SINE       |        0.80815       |        0.81325        |       0.82105      |
		-----------------------------------------------------------------------------------



		###################################################################################
		#  remove_random_edges with drop of 5
		###################################################################################

		-----------------------------------------------------------------------------------
		|             |    macro_f1_score    |    precision_score    |      accuracy      |
		-----------------------------------------------------------------------------------
		|  Doc2Vec    |        0.69171       |        0.71368        |       0.72138      |
		-----------------------------------------------------------------------------------
		|  DeepWalk   |        0.78036       |        0.78531        |       0.79147      |
		-----------------------------------------------------------------------------------
		|  SINE       |        0.80922       |        0.81447        |       0.81987      |
		-----------------------------------------------------------------------------------



		###################################################################################
		#  remove_all_edges_of_important_nodes with drop of 50
		###################################################################################

		-----------------------------------------------------------------------------------
		|             |    macro_f1_score    |    precision_score    |      accuracy      |
		-----------------------------------------------------------------------------------
		|  Doc2Vec    |        0.69160       |        0.71413        |       0.71946      |
		-----------------------------------------------------------------------------------
		|  DeepWalk   |        0.57449       |        0.63414        |       0.59291      |
		-----------------------------------------------------------------------------------
		|  SINE       |        0.71571       |        0.73013        |       0.74084      |
		-----------------------------------------------------------------------------------



		###################################################################################
		#  remove_all_edges_of_random_nodes with drop of 50
		###################################################################################

		-----------------------------------------------------------------------------------
		|             |    macro_f1_score    |    precision_score    |      accuracy      |
		-----------------------------------------------------------------------------------
		|  Doc2Vec    |        0.69541       |        0.71761        |       0.72648      |
		-----------------------------------------------------------------------------------
		|  DeepWalk   |        0.59708       |        0.71762        |       0.60284      |
		-----------------------------------------------------------------------------------
		|  SINE       |        0.76001       |        0.77005        |       0.77722      |
		-----------------------------------------------------------------------------------



		###################################################################################
		#  remove_iportant_edges_cc with drop of 50
		###################################################################################

		-----------------------------------------------------------------------------------
		|             |    macro_f1_score    |    precision_score    |      accuracy      |
		-----------------------------------------------------------------------------------
		|  Doc2Vec    |        0.68968       |        0.70944        |       0.71865      |
		-----------------------------------------------------------------------------------
		|  DeepWalk   |        0.75621       |        0.77470        |       0.77552      |
		-----------------------------------------------------------------------------------
		|  SINE       |        0.79815       |        0.80767        |       0.81244      |
		-----------------------------------------------------------------------------------



		###################################################################################
		#  remove_iportant_edges_nd with drop of 50
		###################################################################################

		-----------------------------------------------------------------------------------
		|             |    macro_f1_score    |    precision_score    |      accuracy      |
		-----------------------------------------------------------------------------------
		|  Doc2Vec    |        0.69688       |        0.71830        |       0.72393      |
		-----------------------------------------------------------------------------------
		|  DeepWalk   |        0.74644       |        0.76638        |       0.76640      |
		-----------------------------------------------------------------------------------
		|  SINE       |        0.79996       |        0.80729        |       0.81089      |
		-----------------------------------------------------------------------------------



		###################################################################################
		#  remove_random_edges with drop of 50
		###################################################################################

		-----------------------------------------------------------------------------------
		|             |    macro_f1_score    |    precision_score    |      accuracy      |
		-----------------------------------------------------------------------------------
		|  Doc2Vec    |        0.69237       |        0.71416        |       0.71961      |
		-----------------------------------------------------------------------------------
		|  DeepWalk   |        0.63396       |        0.68428        |       0.64708      |
		-----------------------------------------------------------------------------------
		|  SINE       |        0.75290       |        0.75955        |       0.77301      |
		-----------------------------------------------------------------------------------
```
